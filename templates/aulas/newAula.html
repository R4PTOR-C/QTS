<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QTS - Nova Aula</title>
    <!-- Bootstrap CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <script>
        function updateHorario() {
            var periodo = document.getElementById('periodo').value;
            var hora_inicio = document.getElementById('hora_inicio');
            var hora_fim = document.getElementById('hora_fim');

            // Limpar as opções atuais
            hora_inicio.innerHTML = '';
            hora_fim.innerHTML = '';

            if (periodo === 'matutino') {
                for (var i = 8; i <= 11; i++) {
                    var optionInicio = document.createElement('option');
                    optionInicio.value = i + ':00';
                    optionInicio.text = i + ':00';
                    hora_inicio.add(optionInicio);

                    var optionFim = document.createElement('option');
                    optionFim.value = i + ':00';
                    optionFim.text = i + ':00';
                    hora_fim.add(optionFim);
                }
            } else if (periodo === 'noturno') {
                for (var i = 19; i <= 22; i++) {
                    var optionInicio = document.createElement('option');
                    optionInicio.value = i + ':00';
                    optionInicio.text = i + ':00';
                    hora_inicio.add(optionInicio);

                    var optionFim = document.createElement('option');
                    optionFim.value = i + ':00';
                    optionFim.text = i + ':00';
                    hora_fim.add(optionFim);
                }
            }

            // Reset the time input fields
            hora_inicio.value = '';
            hora_fim.value = '';
        }

        window.onload = updateHorario; // Initialize the horario options on page load
    </script>
</head>
<body>
{% extends "base.html" %}

{% block title %}Adicionar Nova Aula{% endblock %}

{% block content %}
    <div class="container">
        <h1 class="mt-5">Adicionar Nova Aula</h1>
        <form method="post">
            <div class="form-group">
                <label for="curso_id">Curso:</label>
                <select class="form-control" id="curso_id" name="curso_id" required>
                    {% for curso in cursos %}
                        <option value="{{ curso[0] }}">{{ curso[1] }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="disciplina_id">Disciplina:</label>
                <select class="form-control" id="disciplina_id" name="disciplina_id" required>
                    {% for disciplina in disciplinas %}
                        <option value="{{ disciplina[0] }}">{{ disciplina[1] }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="professor_id">Professor:</label>
                <select class="form-control" id="professor_id" name="professor_id" required>
                    {% for professor in professores %}
                        <option value="{{ professor[0] }}">{{ professor[1] }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="dia_semana">Dia da Semana:</label>
                <select class="form-control" id="dia_semana" name="dia_semana" required>
                    <option value="Segunda-feira">Segunda-feira</option>
                    <option value="Terça-feira">Terça-feira</option>
                    <option value="Quarta-feira">Quarta-feira</option>
                    <option value="Quinta-feira">Quinta-feira</option>
                    <option value="Sexta-feira">Sexta-feira</option>
                    <option value="Sábado">Sábado</option>
                    <option value="Domingo">Domingo</option>
                </select>
            </div>
            <div class="form-group">
                <label for="periodo">Período:</label>
                <select class="form-control" id="periodo" name="periodo" onchange="updateHorario()" required>
                    <option value="matutino">Matutino (08:00 - 11:00)</option>
                    <option value="noturno">Noturno (19:00 - 22:00)</option>
                </select>
            </div>
            <div class="form-group">
                <label for="hora_inicio">Hora de Início:</label>
                <select class="form-control" id="hora_inicio" name="hora_inicio" required></select>
            </div>
            <div class="form-group">
                <label for="hora_fim">Hora de Fim:</label>
                <select class="form-control" id="hora_fim" name="hora_fim" required></select>
            </div>
            <div class="form-group">
                <label for="sala">Sala:</label>
                <input type="text" class="form-control" id="sala" name="sala" required>
            </div>
            <button type="submit" class="btn btn-dark">Adicionar</button>
        </form>
    </div>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <!-- Bootstrap JS -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
{% endblock %}
</body>
</html>
